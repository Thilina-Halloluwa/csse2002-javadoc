<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>Transaction</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: farm.sales.transaction, class: Transaction">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 10px 30px; background-color: #51247A; color: white; font-variant: small-caps"> <h1>Farm<span style="float: right">v1.1.1</span></h1> <p>Programming in the Large --- Assignment 1, Semester 2, 2024</p></div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">farm.sales.transaction</a></div>
<h1 title="Class Transaction" class="title">Class Transaction</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
<div class="inheritance">Transaction</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="CategorisedTransaction.html" title="class in farm.sales.transaction">CategorisedTransaction</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Transaction</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Transactions keeps track of what items are to be (or have been) purchased and by whom.
 <p>
 This is a very basic and vanilla transaction that adds things in the order they were purchased,
 and displays them in the resulting receipt in a basic list following that order.
 <p>
 Transactions exists in one of two states: 
 <ul>
    <li><em>Active,</em> where products can be actively added to the customer cart and the receipt is not yet ready, or</li>
    <li><em>Finalised,</em> where it is no longer open for modification, and instead represents a past sale that has been completed with a receipt generated.</li>
 </ul></div>
<dl class="notes">
<dt><span style="color:#2E75B2;font-size:1.2em;">Component of Stage 1.</span></dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(farm.customer.Customer)" class="member-name-link">Transaction</a><wbr>(<a href="../../customer/Customer.html" title="class in farm.customer">Customer</a>&nbsp;customer)</code></div>
<div class="col-last even-row-color">
<div class="block">Construct a new transaction for an associated customer.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finalise()" class="member-name-link">finalise</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Mark a transaction as finalised and update the transaction's internal state accordingly.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../customer/Customer.html" title="class in farm.customer">Customer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAssociatedCustomer()" class="member-name-link">getAssociatedCustomer</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the customer associated with this transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../../inventory/product/Product.html" title="class in farm.inventory.product">Product</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPurchases()" class="member-name-link">getPurchases</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves all products associated with the transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReceipt()" class="member-name-link">getReceipt</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts the transaction into a formatted receipt for display, using the <a href="../ReceiptPrinter.html" title="class in farm.sales"><code>ReceiptPrinter</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotal()" class="member-name-link">getTotal</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates the total price of all the current products in the transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isFinalised()" class="member-name-link">isFinalised</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determines if the transaction is finalised (i.e. sale completed) or not.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a string representation of this transaction and its current state.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(farm.customer.Customer)">
<h3>Transaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Transaction</span><wbr><span class="parameters">(<a href="../../customer/Customer.html" title="class in farm.customer">Customer</a>&nbsp;customer)</span></div>
<div class="block">Construct a new transaction for an associated customer.
 Transactions should always be active at the time of creation, i.e. a transaction cannot 
 already be set to finalised upon instantiation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>customer</code> - the customer who is starting the transaction (beginning to shop).</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getAssociatedCustomer()">
<h3>getAssociatedCustomer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../customer/Customer.html" title="class in farm.customer">Customer</a></span>&nbsp;<span class="element-name">getAssociatedCustomer</span>()</div>
<div class="block">Retrieves the customer associated with this transaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the customer of the transaction.</dd>
<dt><span style="color:#51247A;"><i>Hint:</i></span></dt>
<dd>a customer has a cart; the transaction does not.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPurchases()">
<h3>getPurchases</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../inventory/product/Product.html" title="class in farm.inventory.product">Product</a>&gt;</span>&nbsp;<span class="element-name">getPurchases</span>()</div>
<div class="block">Retrieves all products associated with the transaction.
 <br>
 If the transaction has been finalised, this is all products that were 'locked in' as 
 final purchases at that time. If the transaction is instead still active, it is all products 
 currently in the associated customer's cart.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the list of purchases comprising the transaction.</dd>
<dt>Ensures: </dt>
<dd>the returned list is a shallow copy and cannot modify the original transaction</dd>
<dt><span style="color:#51247A;"><i>Hint:</i></span></dt>
<dd>once a customer has finished shopping, they can do whatever they like with their cart,
 and may even come back with it another day; you should not expect that it continues to contain their final purchases.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTotal()">
<h3>getTotal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getTotal</span>()</div>
<div class="block">Calculates the total price of all the current products in the transaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the total price calculated.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isFinalised()">
<h3>isFinalised</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isFinalised</span>()</div>
<div class="block">Determines if the transaction is finalised (i.e. sale completed) or not.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true iff the transaction is over, else false.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finalise()">
<h3>finalise</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">finalise</span>()</div>
<div class="block">Mark a transaction as finalised and update the transaction's internal state accordingly.
 <br>
 This locks in all pending purchases previously added, such that they are now treated as 
 final purchases and no additional modification can be made, and empties the customer's cart.</div>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Returns a string representation of this transaction and its current state. 
 The representation contains information about the customer, the transaction's status, and the associated products.
 <br>
 It is in the form <code>Transaction {Customer: &lt;customer&gt;, Status: &lt;status&gt;, Associated Products: &lt;products&gt;}</code>
 <p>
 <b>Example output/s: </b>
 <p>
 <pre style="color:#00CC00">"Transaction {Customer: James Smith | Phone Number: 12345678 | Address: 1st Street, Status: Active, Associated Products: [egg: 50c *REGULAR*]}"</pre>
 <pre style="color:#00CC00">"Transaction {Customer: Lauren Jame | Phone Number: 80145689 | Address: 2nd Street, Status: Finalised, Associated Products: []}"</pre>
 <pre style="color:#00CC00">"Transaction {Customer: Alfred Bruce | Phone Number: 01010101 | Address: 3rd Street, Status: Finalised, Associated Products: [milk: 440c *IRIDIUM*, milk: 440c *GOLD*]}"</pre>
 <p>
 The status of the transaction must be either <code>Active</code> or <code>Finalised</code>.
 The list of associated products should match that returned by <a href="#getPurchases()"><code>getPurchases()</code></a>.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>The formatted string representation of the product.</dd>
<dt><span style="color:#51247A;"><i>Hint:</i></span></dt>
<dd>See <a href="../../customer/Customer.html#toString()"><code>Customer.toString()</code></a> and <a href="../../inventory/product/Product.html#toString()"><code>Product.toString()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReceipt()">
<h3>getReceipt</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getReceipt</span>()</div>
<div class="block">Converts the transaction into a formatted receipt for display, using the <a href="../ReceiptPrinter.html" title="class in farm.sales"><code>ReceiptPrinter</code></a>.
 <p>
 If the transaction has not been finalised, an accurate receipt cannot be printed; use
 <a href="../ReceiptPrinter.html#createActiveReceipt()"><code>ReceiptPrinter.createActiveReceipt()</code></a> to create an empty receipt reporting this.
 <p>
 Otherwise, use the <a href="../ReceiptPrinter.html#createReceipt(java.util.List,java.util.List,java.lang.String,java.lang.String)"><code>ReceiptPrinter.createReceipt(List, List, String, String)</code></a>. 
 The displayed transaction must match the following requirements:
 <ul>
     <li>The headings must be "Item" and "Price", in that order.</li>
     <li>Each entry must be a list containing the display name and price of a purchased product.</li>
     <li>The list of entries should be ordered such that products appear in the order they were purchased.</li>
     <li>All prices shown on the receipt – that is, both prices per product and the overall
     total - must be styled in standard price format rather than as cents,
     e.g. 157c becomes $1.57.</li>
 </ul>
 <pre>
 <code>
 Customer jack = new Customer("Jack", 01234567, "1st Street");

 jack.getCart().addProduct(new Egg());
 jack.getCart().addProduct(new Milk());
 jack.getCart().addProduct(new Jam());
 jack.getCart().addProduct(new Egg());
 jack.getCart().addProduct(new Milk());
 jack.getCart().addProduct(new Egg());

 Transaction transaction = new Transaction(jack);
 transaction.finalise();

 System.out.println(transaction.getReceipt());
 </code>
 </pre>    
 <pre style="color:#00CC00">
 ================================================
                The CSSE2002 Farm
      Building 78, University of Queensland

                       ╱|、
                     (˚ˎ 。7
                      |、˜〵
                      じしˍ,)ノ

 ================================================
 Item                                       Price
 ------------------------------------------------
 egg                                        $0.50
 milk                                       $4.40
 jam                                        $6.70
 egg                                        $0.50
 milk                                       $4.40
 egg                                        $0.50
 ------------------------------------------------
 Total:                  $17.00
 ------------------------------------------------
      Thank you for shopping with us, Jack!

 ================================================
 </pre></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the styled receipt representation of this transaction</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><div style="margin: 20px">Copyright 2024 University of Queensland<img src="uq-logo.png" style="float: right" width=200 alt="uq logo"></div></small></p>
</footer>
</div>
</div>
</body>
</html>
