<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>SpecialSaleTransaction</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: farm.sales.transaction, class: SpecialSaleTransaction">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../style.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header"><div style="padding: 10px 30px; background-color: #51247A; color: white; font-variant: small-caps"> <h1>Farm<span style="float: right">v1.1.1</span></h1> <p>Programming in the Large --- Assignment 1, Semester 2, 2024</p></div>
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">farm.sales.transaction</a></div>
<h1 title="Class SpecialSaleTransaction" class="title">Class SpecialSaleTransaction</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
<div class="inheritance"><a href="Transaction.html" title="class in farm.sales.transaction">Transaction</a>
<div class="inheritance"><a href="CategorisedTransaction.html" title="class in farm.sales.transaction">CategorisedTransaction</a>
<div class="inheritance">SpecialSaleTransaction</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">SpecialSaleTransaction</span>
<span class="extends-implements">extends <a href="CategorisedTransaction.html" title="class in farm.sales.transaction">CategorisedTransaction</a></span></div>
<div class="block">A transaction type that builds on the functionality of a categorised transaction, allowing
 store-wide discounts to be applied to all products of a nominated type.
 <p>
 This can be thought of
 as akin to putting on a special sale such as a seasonal special for lower price jam, or an 
 end-of-year sale discounting all products. 
 <p>
 The resulting receipt takes the same base format as that off a categorised transaction, with 
 an additional line appended to entries for any product types that have a non-zero discount 
 indicating the percentage they will be discounted by, and an additional section below the 
 overall transaction total where non-zero overall savings are reported.</div>
<dl class="notes">
<dt><span style="color:#2E75B2;font-size:1.2em;">Component of Stage 1.</span></dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(farm.customer.Customer)" class="member-name-link">SpecialSaleTransaction</a><wbr>(<a href="../../customer/Customer.html" title="class in farm.customer">Customer</a>&nbsp;customer)</code></div>
<div class="col-last even-row-color">
<div class="block">Construct a new special sale transaction for an associated customer, with an 
 empty set of discounts (i.e.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(farm.customer.Customer,java.util.Map)" class="member-name-link">SpecialSaleTransaction</a><wbr>(<a href="../../customer/Customer.html" title="class in farm.customer">Customer</a>&nbsp;customer,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../inventory/product/data/Barcode.html" title="enum class in farm.inventory.product.data">Barcode</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;discounts)</code></div>
<div class="col-last odd-row-color">
<div class="block">Construct a new special sale transaction for an associated customer, 
 with a set of discounts to be applied to nominated product types on purchasing.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDiscountAmount(farm.inventory.product.data.Barcode)" class="member-name-link">getDiscountAmount</a><wbr>(<a href="../../inventory/product/data/Barcode.html" title="enum class in farm.inventory.product.data">Barcode</a>&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the discount percentage that will be applied for a particular product type, 
 as an integer (e.g.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPurchaseSubtotal(farm.inventory.product.data.Barcode)" class="member-name-link">getPurchaseSubtotal</a><wbr>(<a href="../../inventory/product/data/Barcode.html" title="enum class in farm.inventory.product.data">Barcode</a>&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determines the total price for the provided product type within this transaction, with 
 any specified discount applied as an integer percentage taken from the usual subtotal.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReceipt()" class="member-name-link">getReceipt</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts the transaction into a formatted receipt for display, using the <a href="../ReceiptPrinter.html" title="class in farm.sales"><code>ReceiptPrinter</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotal()" class="member-name-link">getTotal</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates the total price (with discounts) of all the current products in the transaction.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotalSaved()" class="member-name-link">getTotalSaved</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates how much the customer has saved from discounts.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a string representation of this transaction and its current state.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-CategorisedTransaction">Methods inherited from class&nbsp;<a href="CategorisedTransaction.html" title="class in farm.sales.transaction">CategorisedTransaction</a></h3>
<code><a href="CategorisedTransaction.html#getPurchasedTypes()">getPurchasedTypes</a>, <a href="CategorisedTransaction.html#getPurchaseQuantity(farm.inventory.product.data.Barcode)">getPurchaseQuantity</a>, <a href="CategorisedTransaction.html#getPurchasesByType()">getPurchasesByType</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Transaction">Methods inherited from class&nbsp;<a href="Transaction.html" title="class in farm.sales.transaction">Transaction</a></h3>
<code><a href="Transaction.html#finalise()">finalise</a>, <a href="Transaction.html#getAssociatedCustomer()">getAssociatedCustomer</a>, <a href="Transaction.html#getPurchases()">getPurchases</a>, <a href="Transaction.html#isFinalised()">isFinalised</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(farm.customer.Customer)">
<h3>SpecialSaleTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SpecialSaleTransaction</span><wbr><span class="parameters">(<a href="../../customer/Customer.html" title="class in farm.customer">Customer</a>&nbsp;customer)</span></div>
<div class="block">Construct a new special sale transaction for an associated customer, with an 
 empty set of discounts (i.e. no products are to be sold at a discount).
 Transactions should always be active at the time of creation, i.e. a transaction cannot 
 already be set to finalised upon instantiation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>customer</code> - the customer who the starting the transaction (beginning to shop).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(farm.customer.Customer,java.util.Map)">
<h3>SpecialSaleTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SpecialSaleTransaction</span><wbr><span class="parameters">(<a href="../../customer/Customer.html" title="class in farm.customer">Customer</a>&nbsp;customer,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="../../inventory/product/data/Barcode.html" title="enum class in farm.inventory.product.data">Barcode</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;discounts)</span></div>
<div class="block">Construct a new special sale transaction for an associated customer, 
 with a set of discounts to be applied to nominated product types on purchasing.
 <br>
 Transactions should always be active at the time of creation, i.e. a transaction cannot 
 already be set to finalised upon instantiation.
 <br>
 Note: not all existing products must have a discount (these products will simply be sold 
 at full price), and there is no requirement that the farm inventory currently contains 
 any products of some type for it to be allowed a discount (these products simply cannot be 
 purchased, so any discount specified will be ignored).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>customer</code> - the customer who is starting the transaction (beginning to shop).</dd>
<dd><code>discounts</code> - a mapping from product barcodes to the associated discount applied on 
                  purchasing, where discount amounts are specified as an integer percentage 
                  (e.g. for a 10% discount, the value stored is 10).</dd>
<dt>Requires:</dt>
<dd><code>0 &lt;= discount amount &lt;= 100</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getPurchaseSubtotal(farm.inventory.product.data.Barcode)">
<h3>getPurchaseSubtotal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPurchaseSubtotal</span><wbr><span class="parameters">(<a href="../../inventory/product/data/Barcode.html" title="enum class in farm.inventory.product.data">Barcode</a>&nbsp;type)</span></div>
<div class="block">Determines the total price for the provided product type within this transaction, with 
 any specified discount applied as an integer percentage taken from the usual subtotal.
 <p>
 Note: this calculation must be performed by first determining the
 undiscounted subtotal in full,
 <em>then</em> calculating discounts as a percentage of this subtotal. That is, <em>do not</em>
 calculate it by taking the discount from individual product prices and summing the result.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="CategorisedTransaction.html#getPurchaseSubtotal(farm.inventory.product.data.Barcode)">getPurchaseSubtotal</a></code>&nbsp;in class&nbsp;<code><a href="CategorisedTransaction.html" title="class in farm.sales.transaction">CategorisedTransaction</a></code></dd>
<dt>Parameters:</dt>
<dd><code>type</code> - the product type whose subtotal should be calculated.</dd>
<dt>Returns:</dt>
<dd>the total (discounted) price for all instances of that product type within this transaction.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDiscountAmount(farm.inventory.product.data.Barcode)">
<h3>getDiscountAmount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getDiscountAmount</span><wbr><span class="parameters">(<a href="../../inventory/product/data/Barcode.html" title="enum class in farm.inventory.product.data">Barcode</a>&nbsp;type)</span></div>
<div class="block">Retrieves the discount percentage that will be applied for a particular product type, 
 as an integer (e.g. for a 10% discount, this method should return 10).
 <br>
 If there is no discount percentage for that Product, returns 0.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - the product type.</dd>
<dt>Returns:</dt>
<dd>the amount the product is discounted by, as an integer percentage.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTotal()">
<h3>getTotal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getTotal</span>()</div>
<div class="block">Calculates the total price (with discounts) of all the current products in the transaction.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="Transaction.html#getTotal()">getTotal</a></code>&nbsp;in class&nbsp;<code><a href="Transaction.html" title="class in farm.sales.transaction">Transaction</a></code></dd>
<dt>Returns:</dt>
<dd>the total (discounted) price calculated.
 <p>
 Note: this method must make use of <a href="#getPurchaseSubtotal(farm.inventory.product.data.Barcode)"><code>getPurchaseSubtotal(Barcode)</code></a>
 to calculate the total.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTotalSaved()">
<h3>getTotalSaved</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getTotalSaved</span>()</div>
<div class="block">Calculates how much the customer has saved from discounts.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the numerical savings from discounts.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Returns a string representation of this transaction and its current state. 
 The representation contains information about the customer, the transaction's status, the associated products, and the discounts to be applied.
 <br>
 It is in the form <code>Transaction {Customer: &lt;customer&gt;, Status: &lt;status&gt;, Associated Products: &lt;products&gt;, Discounts: &lt;discounts&gt;}</code>
 <p>
 <b>Example output/s: </b>
 <p>
 <pre style="color:#00CC00">"Transaction {Customer: James Smith | Phone Number: 12345678 | Address: 1st Street, Status: Active, Associated Products: [egg: 50c *REGULAR*], Discounts: {EGG=10}}"</pre>
 <pre style="color:#00CC00">"Transaction {Customer: Smith Ereens | Phone Number: 00011122 | Address: 2nd Street, Status: Active, Associated Products: [], Discounts: {MILK=50, JAM=0, EGG=10}}"</pre>
 <pre style="color:#00CC00">"Transaction {Customer: Mac Donald | Phone Number: 34343434 | Address: 3rd Street, Status: Finalised, Associated Products: [milk: 440c *IRIDIUM*, milk: 440c *GOLD*], Discounts: {}}"</pre>
 <p>
 The status of the transaction must be either <code>Active</code> or <code>Finalised</code>.
 The list of associated products should match that returned by <a href="Transaction.html#getPurchases()"><code>Transaction.getPurchases()</code></a>.
 The list of discounts should show exactly those discounts for which entries exist in the map 
 of discounts managed by the class, and no others. If an entry exists with a discount value of
 0, it should still be shown. If the map is empty, empty brackets ({}) should be shown.
 The formatting of the discount list should match that returned by <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/AbstractMap.html#toString()" title="class or interface in java.util" class="external-link"><code>AbstractMap.toString()</code></a>.
 Any discounts should not yet be applied to the cost reported by individual products in the products list.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="Transaction.html#toString()">toString</a></code>&nbsp;in class&nbsp;<code><a href="Transaction.html" title="class in farm.sales.transaction">Transaction</a></code></dd>
<dt>Returns:</dt>
<dd>The formatted string representation of the product.</dd>
<dt><span style="color:#51247A;"><i>Hint:</i></span></dt>
<dd>See <a href="../../customer/Customer.html#toString()"><code>Customer.toString()</code></a> and <a href="../../inventory/product/Product.html#toString()"><code>Product.toString()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReceipt()">
<h3>getReceipt</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getReceipt</span>()</div>
<div class="block">Converts the transaction into a formatted receipt for display, using the <a href="../ReceiptPrinter.html" title="class in farm.sales"><code>ReceiptPrinter</code></a>.
 <p>
 If the transaction has not been finalised, an accurate receipt cannot be printed; use
 <a href="../ReceiptPrinter.html#createActiveReceipt()"><code>ReceiptPrinter.createActiveReceipt()</code></a> to create an empty receipt reporting this.
 <p>
 Otherwise, use the <a href="../ReceiptPrinter.html#createReceipt(java.util.List,java.util.List,java.lang.String,java.lang.String)"><code>ReceiptPrinter.createReceipt(List, List, String, String)</code></a> and/or
 <a href="../ReceiptPrinter.html#createReceipt(java.util.List,java.util.List,java.lang.String,java.lang.String,java.lang.String)"><code>ReceiptPrinter.createReceipt(List, List, String, String, String)</code></a>. 
 The displayed transaction must match the following requirements:
 <ul>
     <li>The headings must be "Item", "Qty", "Price (ea.)", and "Subtotal", in that order.</li>
     <li>Each entry must be a list containing the display name of a product type, the number
    of products of that type purchased, the price per item for that type, and the subtotal
    for that type.
    If a non-zero discount has been applied for the entry's product type, the entry should
    also contain a message reporting that discount as follows:
     <br>
     "Discount applied! [discount amount]% off [product name]", where [discount amount] 
     is replaced with the actual percentage and [product name] is the display name of the product type.
     </li>
     <li>The entries in the list should appear in the order matching that of <a href="../../inventory/product/data/Barcode.html#values()"><code>Barcode.values()</code></a>.
     Product types for which no items were purchased should not be included.</li>
     <li><em>Iff the total savings incurred on this transaction are greater than zero,</em> 
     these savings should also be reported; exclude them otherwise.</li>
     <li>All prices shown on the receipt – that is, prices per product, subtotals, the
     overall total, and the savings - must be styled in standard price format rather than as
     cents, e.g. 157c becomes $1.57.</li>
 </ul>
 <p>
 The following is an example of how the receipt should look for an example special sale transaction.
 <p>
 <pre>
 <code>
 Customer jack = new Customer("Jack", 01234567, "1st Street");

 jack.getCart().addProduct(new Egg());
 jack.getCart().addProduct(new Milk());
 jack.getCart().addProduct(new Jam());
 jack.getCart().addProduct(new Egg());
 jack.getCart().addProduct(new Milk());
 jack.getCart().addProduct(new Egg());

 Map&lt;Barcode, Integer&gt; discounts = new HashMap&lt;&gt;();
 discounts.put(Barcode.MILK, 50);
 discounts.put(Barcode.JAM, 0);

 Transaction transaction = new SpecialSaleTransaction(jack, discounts);
 transaction.finalise();

 System.out.println(transaction.getReceipt());
 </code>
 </pre>    
 <pre style="color:#00CC00">
 ================================================
                The CSSE2002 Farm
      Building 78, University of Queensland

                       ╱|、
                     (˚ˎ 。7
                      |、˜〵
                      じしˍ,)ノ

 ================================================
 Item       Qty       Price (ea.)       Subtotal
 ------------------------------------------------
 egg        3         $0.50             $1.50
 milk       2         $4.40             $4.40
 Discount applied! 50% off milk
 jam        1         $6.70             $6.70
 ------------------------------------------------
 Total:                  $12.60
 ------------------------------------------------
 ***** TOTAL SAVINGS: $4.40 *****
 ------------------------------------------------
      Thank you for shopping with us, Jack!

 ================================================
 </pre></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="CategorisedTransaction.html#getReceipt()">getReceipt</a></code>&nbsp;in class&nbsp;<code><a href="CategorisedTransaction.html" title="class in farm.sales.transaction">CategorisedTransaction</a></code></dd>
<dt>Returns:</dt>
<dd>the styled receipt representation of this transaction</dd>
<dt><span style="color:#51247A;"><i>Hint:</i></span></dt>
<dd>remember that sets and maps in Java <em>are not ordered.</em> If you are using either
 of these to keep track of purchased product types (which is a perfectly good idea!),
 you must ensure you find a way to control the order in which you retrieve things from them., take note of the difference in behaviour between <a href="../ReceiptPrinter.html#createReceipt(java.util.List,java.util.List,java.lang.String,java.lang.String)"><code>ReceiptPrinter.createReceipt(List, List, String, String)</code></a> and <a href="../ReceiptPrinter.html#createReceipt(java.util.List,java.util.List,java.lang.String,java.lang.String,java.lang.String)"><code>ReceiptPrinter.createReceipt(List, List, String, String, String)</code></a> – in this method, both
 versions may be helpful to you under different circumstances.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><div style="margin: 20px">Copyright 2024 University of Queensland<img src="uq-logo.png" style="float: right" width=200 alt="uq logo"></div></small></p>
</footer>
</div>
</div>
</body>
</html>
